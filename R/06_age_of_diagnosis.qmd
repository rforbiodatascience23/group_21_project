---
title: "Distribution of the age of diagnosis"
format: html
editor: visual
---

### Libraries

```{r}
library("tidyverse")
```

### Distribution of age when receiving a diagnosis

Type 1 diabetes is an autoimmune disease that has an onset in early life. We will now look at the distribution of the patients' ages when receiving their diagnosis.

For this analysis, only the patients with type 1 diabetes are included. The data is also filtered, so only one observation per person will be included.

```{r}

#Loading the data and filtering it
data <- 
  read_tsv("./../data/04_aug_clean.tsv") |>
  filter(case_control == "Case") |>
  distinct(id, .keep_all = TRUE) |>
  select(age_diagnosis)


#Boxplot
data |>
  ggplot() +
  geom_boxplot(aes(x = age_diagnosis),
               size = 0.5, fill = "darkred",
               color = "black") +
  labs(title = "Age of diagnosis, type 1 diabetes",
       subtitle = "Boxplot",
       x = "Age of diagnosis")


#Histogram
data |>
  ggplot() +
  geom_histogram(aes(x = age_diagnosis),
               size = 0.5, fill = "darkred",
               bins = 15, color = "black") +
  labs(title = "Age of diagnosis, type 1 diabetes",
       subtitle = "Histogram",
       x = "Age of diagnosis")
```

As it can be observed, more than half of the patients got the diagnosis between the ages of 10 and 15. This is interesting since the patients in the experiment were tested from an early age and until some of them were in their 20's. Only 5 people among the 29 included got a diagnosis when their age were above 15, while 24 of the 29 patients got their diagnosis before the age of 15.

The size of the data used was only 29 observations, which means that the result of the analysis might be different from the actual pattern.
